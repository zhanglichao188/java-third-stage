<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册页面js</title>
    <script>
        window.onload = function () {
            var flag=true;
            var input_username=document.getElementById("username_input");
            var span = document.getElementById("username_span");
            //用户名输入框鼠标点击，出现汉子提示
            input_username.onclick = function () {
                span.innerHTML="账号为6到8位字母或数字组合".fontcolor("blue");
            };
            //鼠标失去焦点以后进行用户名长度判断
            input_username.onblur = function () {
                if (username_input.value.length >= 6 & username_input.value.length <= 8) {
                    span.innerHTML = "OK!".fontcolor("green");
                }  else if (username_input.value.length <= 6) {
                    span.innerHTML = "账号长度不足6位".fontcolor("red");
                    flag=false;
                } else {
                    span.innerHTML = "账号长度超过8位".fontcolor("red");
                    flag=false;
                }
                return flag;
            };

            var input_pwd=document.getElementById("pwd_input");
            var a=document.getElementById("pwd_a");
            //查看密码超链接点击事件，进行密码输入框type值切换
            a.onclick = function () {
                if (input_pwd.type == "text") {
                    input_pwd.type = "password";
                } else {
                    input_pwd.type = "text";
                }
            };
            //获取爱好复选框数组对象
            var inputs=document.getElementsByName("habby");
            //获取全选超链接dom对象
            var a_allCheck=document.getElementById("allCheck");
            a_allCheck.onclick = function () {
                //实现每个复选框checked属性为true
                for (var i = 0; i <inputs.length; i++) {
                    inputs[i].checked=true;
                }
            };
            //获取反选
            var a_fan=document.getElementById("fan");
            a_fan.onclick = function () {
                for (var i = 0; i <inputs.length; i++) {
                    if (inputs[i].checked == true) {
                        inputs[i].checked = false;
                    } else {
                        inputs[i].checked=true;
                    }
                }
            };
            //获取全不选
            var a_nullCheck=document.getElementById("nullCheck");
            a_nullCheck.onclick = function () {
                for (var i = 0; i <inputs.length; i++) {
                    inputs[i].checked=false;
                }
            };
            //获取提交按钮对象
            var input_submit=document.getElementById("input_submit");
            var input_pwd=document.getElementById("pwd_input");
            var input_repwd=document.getElementById("repwd_input");
            //提交验证，下面条件全都不符合才会返回true
            input_submit.onclick = function () {
                if (input_username.value.length == 0) {
                    alert("用户名不能为空");
                    flag=false;
                }else if (input_pwd.value.length==0){
                    alert("密码不能为空");
                    flag=false;
                }else if (input_repwd.value.length==0) {
                    alert("密码不能为空");
                    flag=false;
                }else if (input_pwd.value!=input_repwd.value) {
                    alert("两次密码不一致");
                    flag=false;
                }
                return flag;
            };
        };

        function _validata() {
            //返回ture提交，返回false不提交
            if (input_submit.onclick && input_username.onblur) {
                return true;
            } else {
                return false;
            }
        }
    </script>
</head>
<body>
    <center>
        <h1>注册页面</h1>
        <form action="http://127.0.0.1:9090"  method="get" onsubmit="return _validata();">
            <table>
                <tr>
                    <td>账号:</td>
                    <td>
                        <input type="text" id="username_input">
                        <span id="username_span"></span>
                    </td>
                </tr>
                <tr>
                    <td>密码:</td>
                    <td>
                        <input type="password" id="pwd_input">
                        <span id="pwd_span"></span>
                        <a href="#" id="pwd_a">查看密码</a>
                    </td>
                </tr>
                <tr>
                    <td>确认密码:</td>
                    <td>
                        <input type="password" id="repwd_input">
                        <b></b>
                    </td>
                </tr>
                <tr>
                    <td>性别:</td>
                    <td>
                        <input type="radio" name="sex"  value="men" checked>男
                        <input type="radio" name="sex" value="women">女
                    </td>
                </tr>
                <tr>
                    <td>爱好:</td>
                    <td>
                        <input type="checkbox" name="habby" value="游泳">游泳
                        <input type="checkbox" name="habby" value="篮球">篮球
                        <input type="checkbox" name="habby" value="打游戏">打游戏
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <a href="#" id="allCheck">全选</a> &nbsp;
                        <a href="#" id="fan">反选</a> &nbsp;
                        <a href="#" id="nullCheck">不选</a>
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <input type="submit" id="input_submit" value="注册">
                    </td>
                </tr>
            </table>
        </form>
    </center>
</body>
</html>